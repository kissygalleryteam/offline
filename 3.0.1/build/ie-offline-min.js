/*!build time : 2015-03-18 11:24:40 AM*/
KISSY.add("kg/offline/3.0.1/ie-offline",function(a,b){var c,d,e,f={},g=document,h=(new Date).getTime(),i="IE-OFFLINE",j="IE-SINGLE-KEY",k="TIME-DEADLINE";return a.mix(f,{init:function(){return c=g.createElement("link"),c.addBehavior&&(c.style.behavior="url(#default#userData)",g.getElementsByTagName("head")[0].appendChild(c)),c.load(i),d=b.parse(c.getAttribute(j))||{},e=b.parse(c.getAttribute(k))||{},this._initDeadline(),this},_initDeadline:function(){var a,b;for(var c in e)e.hasOwnProperty(c)&&(a=parseInt(e[c],10),b=a-h,0>=b?this.removeItem(c):this._deadlineKey(c,b))},setItem:function(a,b,c){if(d[a]=b,c){var f=parseInt(c,10),g=(new Date).getTime();e[a]=f+g,this._deadlineKey(a,f)}return this._saveToBrowser()},getItem:function(a){return d[a]},removeItem:function(a){return delete d[a],delete e[a],this._saveToBrowser()},clear:function(){return d={},e={},this._saveToBrowser()},size:function(){var a=0;for(var b in d)d.hasOwnProperty(b)&&a++;return a},timeRemain:function(a){return a in d?a in e?e[a]-(new Date).getTime():-1:0},usedByte:function(){var a=0,c=b.stringify(e);return""!==e&&(a+=c.length+k.length),a+=b.stringify(d).length},getAll:function(a){return a?d:b.stringify(d)},_deadlineKey:function(b,c){var d=this;a.later(function(){d.removeItem(b)},c)},_saveToBrowser:function(){var a=!0;try{c.setAttribute(k,b.stringify(e)),c.setAttribute(j,b.stringify(d)),c.save(i)}catch(f){a=!1}return a}}),f},{requires:["json"]});